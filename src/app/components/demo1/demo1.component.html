<div class="row">
    <div class="col-md-9">
        <ag-grid-angular class="ag-theme-alpine" style="width: 100%; height: 500px;" [rowData]="rowData" [columnDefs]="visibleColumns" [defaultColDef]="{ sortable: true, filter: true, resizable: true }" (gridReady)="onGridReady($event)">
        </ag-grid-angular>
    </div>
    <div class="col-md-3">

        <div style="width: 300px; border: 1px solid #ccc; border-radius: 4px; padding: 10px;">

            <!-- Label -->
            <label style="font-weight: 500; display: block; margin-bottom: 10px;">Select Columns</label>

            <!-- Search Box -->
            <mat-form-field appearance="outline" style="width: 100%; margin-bottom: 10px;">
                <mat-label>Search</mat-label>
                <input matInput [(ngModel)]="searchText" placeholder="Filter columns" />
            </mat-form-field>

            <!-- Select All Checkbox -->
            <mat-checkbox [(ngModel)]="selectAllChecked" (change)="onToggleSelectAll()" style="margin-bottom: 10px;">
                Select All
            </mat-checkbox>

            <!-- Selection List -->
            <mat-selection-list [(ngModel)]="selectedFields" (selectionChange)="onColumnSelectionChanged()" [multiple]="true">
                <mat-list-option *ngFor="let col of filteredColumns()" [value]="col.field">
                    {{ col.field | titlecase }}
                </mat-list-option>
            </mat-selection-list>

        </div>

    </div>
</div>